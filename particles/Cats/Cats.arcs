schema Cat
    Text name
    Text description

schema Notification
    Boolean triggered

schema Date
    Number day

particle DomCat in './source/DomCat.js'
    in Cat cat
    in Notification notification

particle TodaysCat in './source/TodaysCat.js'
    in Date today
    in [Cat] allCats
    out Cat cat

particle ShowCat in './source/ShowCat.js'
    in Cat cat
    out Notification notification
    consume root

particle Today in './source/Today.js'
    out Date today

store CatStore of [Cat] 'allMyCats' in 'cats.json'

recipe CatOfTheDay
    map 'allMyCats' as allCats
    create as today
    create as cat
    Today
        today = today
    TodaysCat
        allCats = allCats
        cat = cat
        today = today
    ShowCat
        cat = cat
        notification = notification
    DomCat
        cat = cat
        notification = notification
    description `Get the cat of the day`